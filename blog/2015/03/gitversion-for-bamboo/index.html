
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>GitVersion for Bamboo - Carolyn Van Slyck</title>
  <meta name="author" content="Carolyn Van Slyck">

  
  <meta name="description" content="

  
  
    
      GitVersion for Bamboo
    
    
      
        










March 06, 2015
      
    
  




I have just released a plugin for At...">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://carolynvanslyck.com/blog/2015/03/gitversion-for-bamboo/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="" rel="alternate" title="Carolyn Van Slyck" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body  class="no-sidebar">
  <header role="banner"><hgroup>
  <h1><a href="/">Carolyn Van Slyck</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><!--<ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  -->
<ul class="main-navigation">
  <li>
      <a href="/projects/" title="I &lt;3 code!">
        <i class="fa fa-github fa-3x"></i><br/>
        Projects
    </a>
  </li>
  <li>
      <a href="/blog/" title="Today I Learned...">
          <i class="fa fa-file-text fa-3x"></i><br/>
          Writing
      </a>
  </li>
  <li>
      <a href="/talk/" title="Who doesn't love preparing a talk on their weekend?">
          <i class="fa fa-comment fa-3x"></i><br/>
          Talks
      </a>
  </li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">GitVersion for Bamboo</h1>
    
    
      <p class="meta">
        










<time datetime="2015-03-06T06:42:00-06:00" pubdate data-updated="true">March 06, 2015</time>
      </p>
    
  </header>


<div class="entry-content"><p><img src="/images/gitversion/logo.png" style="float: right; margin: 5px" /></p>

<p>I have just released a plugin for Atlassian Bamboo which integrates with GitVersion: <a href="/projects/gitversion">GitVersion for Bamboo</a>. Check out the link for info on how to install and configure the plugin.</p>

<p>GitVersion is a tool which automates generating unique, <a href="http://semver.org/">semantic versions</a>. It detects your branching pattern and uses your tags to generate a repeatable version number which you can then use to stamp assemblies, version NuGet packages, etc.</p>

<p>What I like about GitVersion is the flexibility it provides. Instead of generating a single version number, “take it or leave it”, GitVersion provides over a dozen variables that you can choose from to build your own version number. If you are lucky and can just use pure semver, great!, use the FullSemVer variable and call it a day. However if you are perhaps like me, working on a legacy code base with an existing versioning scheme, it’s still incredibly useful.</p>

<p>Here is the output of running gitversion.exe from my repository:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"Major"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Minor"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Patch"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nt">"PreReleaseTag"</span><span class="p">:</span><span class="s2">"bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"PreReleaseTagWithDash"</span><span class="p">:</span><span class="s2">"-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"BuildMetaData"</span><span class="p">:</span><span class="mi">61</span><span class="p">,</span><span class="w">
  </span><span class="nt">"FullBuildMetaData"</span><span class="p">:</span><span class="s2">"61.Branch.feature/bamboo.Sha.3474397158a37e9b9525345d8205d1e4f8eca06a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"MajorMinorPatch"</span><span class="p">:</span><span class="s2">"1.3.4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"SemVer"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LegacySemVer"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"LegacySemVerPadded"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"AssemblySemVer"</span><span class="p">:</span><span class="s2">"1.3.4.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"AssemblyFileSemVer"</span><span class="p">:</span><span class="s2">"1.3.4.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"FullSemVer"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo+61"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"InformationalVersion"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo+61.Branch.feature/bamboo.Sha.3474397158a37e9b9525345d8205d1e4f8eca06a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ClassicVersion"</span><span class="p">:</span><span class="s2">"1.3.4.61"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ClassicVersionWithTag"</span><span class="p">:</span><span class="s2">"1.3.4.61-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"BranchName"</span><span class="p">:</span><span class="s2">"feature/bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"Sha"</span><span class="p">:</span><span class="s2">"3474397158a37e9b9525345d8205d1e4f8eca06a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"NuGetVersionV2"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"NuGetVersion"</span><span class="p">:</span><span class="s2">"1.3.4-bamboo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>At work we are (still!) <a href="blog/2014/02/migrating-from-svn-to-git/">transioning from svn to git</a>. Previously we would use the svn revision as the 4th part of our version number, e.g. 1.0.0.{svn rev}. With git that’s not available as we just have a commit hash which doens’t fit the bill. So we are using GitVersion to generate just the last number for us by using the BuildMetadata variable. BuildMetadata represents the number of commits on a branch since the last release tag. So if when we started working on v15.2.0, the first commit is tagged and each new commit will result in a unique, increasing version number: first commit = 15.2.0.0, second commit = 15.2.0.1 …</p>

<p>Is that a good idea? Shouldn’t we have simply jumped onto the semver bandwagon? Probably. However sometimes things are beyond a peon’s control and it’s nice that I don’t have to boil the ocean just to get a number.</p>
</div>


  <footer>
    <p class="meta">
      
<span class="byline author vcard">Posted by <span class="fn">Carolyn Van Slyck</span></span>

      










<time datetime="2015-03-06T06:42:00-06:00" pubdate data-updated="true">March 06, 2015</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/atlassian/'>atlassian</a>, <a class='category' href='/blog/categories/bamboo/'>bamboo</a>, <a class='category' href='/blog/categories/git/'>git</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/01/upgrade-to-net-vnext/" title="Previous Post: Upgrade to .NET vNext">&laquo; Upgrade to .NET vNext</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/03/right-hook/" title="Next Post: Right Hook!">Right Hook! &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; Carolyn Van Slyck
</p>

</footer>
  











  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

</body>
</html>
