<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Designing Command-Line Tools People Love</title>

		<meta name="description" content="Build command-line tools that are not only easy to learn, but that other developers are willing to maintain">
		<meta name="author" content="Carolyn Van Slyck">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="icon" type="image/png" href="images/favicon.ico"/>
		<link rel="stylesheet" href="../../revealjs/css/reveal.css">
		<link rel="stylesheet" href="../../revealjs/css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../../revealjs/lib/css/zenburn.css">

		<link rel="stylesheet" href="../../revealjs/css/custom.css">

		<!-- Open links outside of presentation -->
		<base target="_blank">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../revealjs/css/print/pdf.css' : '../../revealjs/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2 class="blue">
						Designing Command-Line Tools People Love
					</h2>

          			<img src="images/dvm.png" />

					<p>
						Carolyn Van Slyck<br/>
						Senior Software Engineer at Microsoft
					</p>

					<aside class="notes">

					</aside>
				</section>

				<section id="intention">
					<h2>Often CLIs aren't <span class="highlight">designed</span>,<br/>
						 functionality is added through happenstance</h2>
				</section>

				<section id="goals">
					<h2>Design Goals</h2>

					<ul>
						<li>Predictable</li>
						<li>Task oriented commands</li>
						<li>Friendly to both humans and scripts</li>
						<li>Creates an SDK as a side-effect</li>
						<li>New contributor launchpad</li>
					</ul>

					<aside class="notes">
						* predictable, consistent
						* band-aide when must
						* include tasks, composed commands
						* human and script friendly
						* Tests = less regressions but also people are less afraid to contribute
					</aside>
				</section>

				<section id="introduction">
					<h2>Introductions</h2>

					<aside class="notes">
						introduce the example projects before I show their code and discuss design
					</aside>
				</section>

				<section id="dvm">
					<h2>Docker Version Manager</h2>
					<img src="images/dvm.png" height="100px"/>
				</section>

				<section id="dep">
					<h2>dep</h2>

					<img src="images/dep.png" height="200px"/>
				</section>

				<section id="svcat">
					<img src="images/service-catalog.png" height="150" />
				</section>

				<section id="porter">
					<h2>Porter</h2>

					<img src="images/porter.png" height="150px"/>
				</section>

				<section id="graveyard">
					<h1>üêò ‚ò†Ô∏è</h1>

					<aside class="notes">
						* For every cli that is still used, there's more that I tried new
						things on but for various reasons, aren't around anymore.
						* Won't be demonstrating them, but I did learn and apply to the next project.
					</aside>
				</section>

				<section id="recommendations">
					<h2>Recommendations</h2>
					
					<ul>
						<li><a href="#command-design">Command and Flag Design</a></li>
						<li><a href="#frameworks">Frameworks</a></li>
						<li><a href="#package-structure">Package Structure</a></li>
						<li><a href="#composition">Command Composition</a></li>
						<li><a href="#dependency-injection">Dependency Injection</a></li>
						<li><a href="#testing">Testing Strategies</a></li>
						<li><a href="#publishing">Publishing</a></li>
					</ul>
				</section>

				<section id="command-design">
					<h2>Command and Flag Design</h2>

					<aside class="notes">

					</aside>
				</section>

				<section id="grammar">
					<h2>Pick a <span class="highlight">Grammar</span></h2>

					<aside class="notes">
						* Follow what works in your native language
						* Mostly be consistent
						* Break consistenty in favor of domain at times
					</aside>
				</section>

				<section id="precedent">
					<h2>Understand <span class="highlight">precedent</span> in your ecosystem</h2>

					<ul style="padding-top: 2em;">
						<li>svcat follows kubectl</li>
						<li>dvm followed nvm (for a while)</li>
						<li>dep <em>didn't</em> follow glide, or npm, etc</li>
					</ul>

					<aside class="notes">
						* muscle memory
						* know when it's helpful, and when you need to move beyond it
					</aside>
				</section>

				<section id="command-design-demo">
					<h2>Emote CLI</h2>

<pre><code class="big plain" data-trim data-noescape>
$ emote list
NAME               VALUE
shrug              ¬Ø\_(„ÉÑ)_/¬Ø

tableflip          (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª

monocle            ‡≤†_‡≤∞‡≥É

$ emote shrug
¬Ø\_(„ÉÑ)_/¬Ø copied to the clipboard

$ emote add emoticon gopher --value  ï ‚Ä¢·¥•‚Ä¢ î
gopher added to the big list 'o emoji

$ emote delete emoticon foo
blerg is no more

$ emote add repo efunk --url https://carolynvs.com/funky-emoticons.json
added 100 emoticons

$ emote list repos
NAME          URL                                                 SIZE
efunk         https://carolynvs.com/funky-emoticons.json          100 
</code></pre>


					<aside class="notes">
						CMD VERB NOUN (English)
					</aside>
				</section>

				<section id="implicit-noun">
					<h2>Exception: Implicit Noun or Verb</h2>

					<p style="padding: 2em 0">Depends on your judgement about the <span class="highlight">domain</span></p>
					
				
					<ul>
						<li>emote list</li>
						<li>emote add EMOTICON_NAME</li>
						<li>emote EMOTICON_NAME</li>
					</ul>

					<aside class="notes">
						the domain is emoticons, it may be okay to drop the noun and be inconsistent
						the cli name itself _is_ a verb, so we cheat
					</aside>
				</section>
				
				<section id="frameworks">
					<h2>Frameworks</h2>

					<aside class="notes">
						
					</aside>
				</section>

				<section id="package-structure">
					<h2>Package Structure</h2>

					<aside class="notes">
						
					</aside>
				</section>

				<section id="composition">
					<h2>Command Composition</h2>

					<aside class="notes">
						
					</aside>
				</section>

				<section id="dependency-injection">
					<h2>Dependency Injection</h2>

					<aside class="notes">
						
					</aside>
				</section>

				<section id="publishing">
					<h2>Publishing</h2>

					<aside class="notes">
						
					</aside>
				</section>

				<section id="references">
					<h2>References</h2>

					<ul>
						<li><a href="https://github.com/carolynvs/cli-tutorial">Tutorial Repository</a></li>
						<li><a href="https://github.com/spf13/cobra">CLI: spf13/cobra</a></li>
						<li><a href="https://github.com/spf13/viper">Config: spf13/viper</a></li>
						<li><a href="https://github.com/spf13/afero">File System: spf13/afero</a></li>
					</ul>
				</section>

				
				<section id="takeout">
					<h2>Thank you</h2>

					<p><img src="../../../images/mlp-salute.png"/></p>
					<p><a href="http://twitter.com/carolynvs" target="_blank">@carolynvs</a></p>

					<p class="comment">
						Gopher artwork by Ashley McNamara <br/>
						licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 License
					</p>
				</section>

				<slide-footer>
					<a href="http://carolynvs.com/cli">carolynvs.com/cli</a>
				</slide-footer>
			</div>

		</div>

		<script src="../../revealjs/lib/js/head.min.js"></script>
		<script src="../../revealjs/js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				// use 16:9 aspect ratio
				width: 1600,
				height: 900,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				keyboard: {
					190: null // Disable blank screen hell
				},

				// Optional reveal.js plugins
				dependencies: [
					{ src: '../../revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../../revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../../revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../../revealjs/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../../revealjs/plugin/zoom-js/zoom.js', async: true },
					{ src: '../../revealjs/plugin/notes/notes.js', async: true },
					{ src: '../../revealjs/plugin/external/external.js', condition: function() { return !!document.querySelector( '[data-external]' ); } },
				]
			});

		</script>

	</body>
</html>
